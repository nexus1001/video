<html>
    <head>
        <title>メモ帳</title>
        <style type="text/css">
            textarea{width:100%;height:30%;}
       
#jsalarmclock{
font-family: Tahoma;
font-weight: bold;
font-size: 12px;
}

#jsalarmclock div{
margin-bottom: 0.8em;
}

#jsalarmclock div.leftcolumn{
float: left;
width: 150px;
font-size: 13px;
background-color: lightyellow;
clear: left;
}

#jsalarmclock span{
margin-right: 5px;
}

</style>

<script type="text/javascript">

var jsalarm={
	padfield:function(f){
		return (f<10)? "0"+f : f
	},
	showcurrenttime:function(){
		var dateobj=new Date()
		var ct=this.padfield(dateobj.getHours())+":"+this.padfield(dateobj.getMinutes())+":"+this.padfield(dateobj.getSeconds())
		this.ctref.innerHTML=ct
		this.ctref.setAttribute("title", ct)
		if (typeof this.hourwake!="undefined"){ //if alarm is set
			if (this.ctref.title==(this.hourwake+":"+this.minutewake+":"+this.secondwake)){
				clearInterval(jsalarm.timer)
				window.location=document.getElementById("musicloc").value
			}
		}
	},
	init:function(){
		var dateobj=new Date()
		this.ctref=document.getElementById("jsalarm_ct")
		this.submitref=document.getElementById("submitbutton")
		this.submitref.onclick=function(){
			jsalarm.setalarm()
			this.value="Alarm Set"
			this.disabled=true
			return false
		}
		this.resetref=document.getElementById("resetbutton")
		this.resetref.onclick=function(){
		jsalarm.submitref.disabled=false
		jsalarm.hourwake=undefined
		jsalarm.hourselect.disabled=false
		jsalarm.minuteselect.disabled=false
		jsalarm.secondselect.disabled=false
		return false
		}
		var selections=document.getElementsByTagName("select")
		this.hourselect=selections[0]
		this.minuteselect=selections[1]
		this.secondselect=selections[2]
		for (var i=0; i<60; i++){
			if (i<24) //If still within range of hours field: 0-23
			this.hourselect[i]=new Option(this.padfield(i), this.padfield(i), false, dateobj.getHours()==i)
			this.minuteselect[i]=new Option(this.padfield(i), this.padfield(i), false, dateobj.getMinutes()==i)
			this.secondselect[i]=new Option(this.padfield(i), this.padfield(i), false, dateobj.getSeconds()==i)

		}
		jsalarm.showcurrenttime()
		jsalarm.timer=setInterval(function(){jsalarm.showcurrenttime()}, 1000)
	},
	setalarm:function(){
		this.hourwake=this.hourselect.options[this.hourselect.selectedIndex].value
		this.minutewake=this.minuteselect.options[this.minuteselect.selectedIndex].value
		this.secondwake=this.secondselect.options[this.secondselect.selectedIndex].value
		this.hourselect.disabled=true
		this.minuteselect.disabled=true
		this.secondselect.disabled=true
	}
}

</script>
    </head>
    <body>
    <body bgcolor="#e7e7e7">
        <h1>書いたものを保存できるメモです。</h1>
        <form name="form1">
            <textarea name="Memo"></textarea>
        </form>
        <p>
            <a id="download" href="#" download="test.txt" onclick="handleDownload()">ダウンロード</a>
        </p>
            <script type="text/javascript">
		function handleDownload() {
                	var content = document.form1.Memo.value;;
                	var blob = new Blob([ content ], { "type" : "text/plain" });

               		 if (window.navigator.msSaveBlob) { 
                   	 window.navigator.msSaveBlob(blob, "test.txt"); 

                    // msSaveOrOpenBlobの場合はファイルを保存せずに開ける
                    window.navigator.msSaveOrOpenBlob(blob, "test.txt"); 
                } else {
                    document.getElementById("download").href = window.URL.createObjectURL(blob);
                }
            }
            </script>
<script type="text/javascript">
//SYNTAX: tabdropdown.init("menu_id", [integer OR "auto"])
tabdropdown.init("bluemenu")
</script>

</div>
<!--end #topbar -->


<div id="topbanner">
<script type="text/javascript" src="http://www.javascriptkit.com/adbanner.js"></script>
</div>

</div>

 <!--ZOOMRESTART-->
</div>


<div class="maincontainer">

<div id="contentwrapper">
<div id="middlecolumn">

<p align="left"><!--webbot bot="HTMLMarkup" startspan --><form action="" method="post">
<divid="jsalarmclock">
<div><div class="leftcolumn">現在時間:</div> <span id="jsalarm_ct" style="letter-spacing: 2px"></span></div>
<div hidden><div class="leftcolumn">アラーム設定:</div> <span><select></select> 時</span> <span><select></select> 分</span> <span><select></select> 秒</span></div>
<div hidden><input type="text" id="musicloc" size="55" value="" /></div>
<div hidden><input type="submit" value="アラームを設定" id="submitbutton" /> <input type="submit" value="リセット" id="resetbutton" /></div>
</div>
</form>
<form action="https://nexus1001.github.io/video/game">
<input type="image" src="back3.PNG" alt="戻る">
</form>


<script type="text/javascript">

jsalarm.init()

</script><!--webbot bot="HTMLMarkup" endspan i-checksum="5681" --></p>
        </body>
</html>