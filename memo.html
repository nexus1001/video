<html>
    <head>
        <title>JavaScriptでメモ帳を方法</title>
        <style type="text/css">
            textarea{width:100%;height:30%;}
        </style>
    </head>
    <body>
        <h1>書いたものを保存できるメモです。</h1>
        <form name="form1">
            <textarea name="Memo"></textarea>
        </form>
        <p>
            <a id="download" href="#" download="test.txt" onclick="handleDownload()">ダウンロード</a>
        </p>
            <script type="text/javascript">
		function handleDownload() {
                	var content = document.form1.Memo.value;;
                	var blob = new Blob([ content ], { "type" : "text/plain" });

               		 if (window.navigator.msSaveBlob) { 
                   	 window.navigator.msSaveBlob(blob, "test.txt"); 

                    // msSaveOrOpenBlobの場合はファイルを保存せずに開ける
                    window.navigator.msSaveOrOpenBlob(blob, "test.txt"); 
                } else {
                    document.getElementById("download").href = window.URL.createObjectURL(blob);
                }
            }
            </script>
        </body>
</html>